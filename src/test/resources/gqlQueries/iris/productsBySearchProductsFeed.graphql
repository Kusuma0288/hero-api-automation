query productsBySearch(
    $searchTerm: String!
    $storeId: String
    $pageSize: Int
    $pageNumber: Int
    $sortOption: String
    $filterOptions: [ProductFilterOption]
    $productsFeed: Boolean = false
    $croVariables: CroVariables
) {
    productsBySearch(
        searchTerm: $searchTerm
        storeId: $storeId
        pageSize: $pageSize
        pageNumber: $pageNumber
        sortOption: $sortOption
        filterOptions: $filterOptions
        croVariables: $croVariables
    ) {
        __typename
        totalNumberOfProducts
        nextPage
        products @skip(if: $productsFeed) {
            __typename
            ...productCard
        }
        productsFeed @include(if: $productsFeed) {
            __typename
            ... on GoogleAdBannerCard {
                ...googleAdBannerCard
            }
            ... on ProductCard {
                ...productCard
            }
        }
        ...productListOptions
    }
}
fragment productListOptions on ProductList {
    __typename
    filters {
        __typename
        headerKey
        headerTitle
        filterItems {
            __typename
            key
            title
            label
            parentKey
            hasChildren
            isApplied
        }
        banner {
            __typename
            displayType
            message
            action {
                __typename
                placement
                type
                label
                url
            }
            title
        }
    }
    sortOptions {
        __typename
        key
        title
        subtitle
        isApplied
    }
}
fragment productCard on ProductCard {
    __typename
    productId
    name
    isNew
    purchaseRestriction
    productImage
    isAvailable
    price
    badgeImage
    promotionInfo {
        __typename
        type
        label
    }
    unitPriceDescription
    wasPrice
    purchaseWarning
    multiBuyPrice
    multiBuyUnitPrice
    inlineLabels {
        __typename
        type
        label
        priority
    }
    trolley {
        __typename
        minimum
        maximum
        increment
        default
        unit
        inTrolley
        buttonState
        buttonLabel
        buttonQuantity
    }
    list {
        __typename
        minimum
        maximum
        increment
        default
        unit
    }
    inStoreDetails {
        __typename
        locationText
        locationType
    }
    adId
}
fragment googleAdBannerCard on GoogleAdBannerCard {
    __typename
    adUnit
    nativeCustomTemplateId
    iabSize
    targeting
    analytics {
        __typename
        adobeTnta
        adobePe
    }
}
